<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>AdminLTE 3 | Projects</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="../../plugins/fontawesome-free/css/all.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- overlayScrollbars -->
  <link rel="stylesheet" href="../../dist/css/adminlte.min.css">
  <!-- Google Font: Source Sans Pro -->
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
  <!--date range css  -->
  <link rel="stylesheet" href="https://adminlte.io/themes/dev/AdminLTE/plugins/daterangepicker/daterangepicker.css">
  
 
</head>
<body class="hold-transition sidebar-mini">
<!-- Site wrapper -->	
<!-- 개인고객 검색 및 리스트 시작 -->
 <form th:action="@{/CustomerSearchList}" method="post"> 
	<div class="content-wrapper">	 	  
	     <section class="content-header"> 		  
		      <div class="container-fluid">   
		        <div class="card card-info">
		         
		         <!-- /.card-header -->
		          <div class="card-header">
		            <h3 class="card-title">개인 고객 검색</h3>
				        <div class="card-tools">
						    <div style="display: inline-block;">
						    	  <button type="button" id="contractHidden" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i></button>
						    </div>
						    <div style="display: inline-block;">
						    	<button type="button" class="btn btn-tool" data-card-widget="remove"></button>
						    </div>
			   			</div>
		          </div>
		          <!-- /.card-header -->
		          
		          
		          <div class="card-body">
		            <div class="row">	            	
			            <div class="form-group" style="padding-bottom: 15px;">	
							<div style="display: inline-block;">
								<label>고객 아이디</label>
								<input type="text" class="form-control"  name="customerId" placeholder="ID">
						    </div> 
						    
						    
						    <div style="display: inline-block;">
						    	<label>고객명</label>
									<input type="text" class="form-control" name="customerName" placeholder="고객명">	
						    </div> 
		
						    
						    <div style="display: inline-block;">
						     	<label>등급</label>					     					     		
									<input type="text" class="form-control" name="customerClass" placeholder="등급">
						    </div> 
						    
						    
						    <div style="display: inline-block;">
								<label>전화번호</label>
								<input type="text" class="form-control" name="customerCall" placeholder="전화번호">
						    </div> 
	    	          
						    <div style="display: inline-block; margin-left:5px;">
						    	<button type="submit" class="btn btn-info" id="customerSearchBtn">
						           		검색
						        </button>
						    </div>							   						   	           
						</div>
					</div>	
					<!-- 검색 끝 -->
	    		    
				   <div class="row">
				   		<div class="col-12">	                         			          
							<div  class="card">					   				                                    				
							 	<div class="card-body table-responsive p-0">
							     	<table class="table table-hover">
							         	<thead>
							              	<tr>
							                      <th>ID</th>
							                      <th>고객명</th>
							                      <th>고객 연락처</th>			                  
							                      <th>우편 번호</th>
							                      <th>기본주소</th>
							                      <th>상세주소</th>
							                      <th>확인</th>
							                  </tr>
							             </thead>
							              <tbody>
							                  	<tr th:each="l : ${CustomerList}">							                  
													<td th:text="${l.customerId}"></td>
													<td th:text="${l.customerName}"></td>
													<td th:text="${l.customerCall}"></td>									
													<td th:text="${l.zipCode}"></td>
													<td th:text="${l.customerAddress}"></td>
													<td th:text="${l.customerAddress2}"></td>									
													<td> 
														<button type="button" id="customerListBtn" class="btn btn-primary btn-sm">
								                            <i class="fas fa-check"></i>
								                        </button>     		
												    </td>														
												</tr>				                   
							                </tbody>
							            </table>
							        </div>				              
							    </div>
						    </div>
					   </div>
				   </div>
			   </div>
		   </div>	            
   </section>     
</div>
</form> 
<!-- 개인 고객 검색 및 리스트 끝  --> 


		<!-- jQuery -->
	<script src="../../plugins/jquery/jquery.min.js"></script>
	<!-- Bootstrap 4 -->
	<script src="../../plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
	<!-- Select2 -->
	<script src="../../plugins/select2/js/select2.full.min.js"></script>
	<!-- Bootstrap4 Duallistbox -->
	<script src="../../plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>
	<!-- InputMask -->
	<script src="../../plugins/moment/moment.min.js"></script>
	<script src="../../plugins/inputmask/min/jquery.inputmask.bundle.min.js"></script>
	<!-- date-range-picker -->
	<script src="../../plugins/daterangepicker/daterangepicker.js"></script>
	<!-- bootstrap color picker -->
	<script src="../../plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
	<!-- Tempusdominus Bootstrap 4 -->
	<script src="../../plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
	<!-- Bootstrap Switch -->
	<script src="../../plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
	<!-- AdminLTE App -->
	<script src="../../dist/js/adminlte.min.js"></script>
	<!-- AdminLTE for demo purposes -->
	<script src="../../dist/js/demo.js"></script>
	<!-- Page script -->
	
	
	<script> 			

	$('#customerListBtn').click(function(){	
		 var customerListBtn = $(this);
		 var tr = customerListBtn.parent().parent();
		 var td = tr.children();
		 var tdArray = new Array();// 배열선언

		     td.each(function(i){
	
		         tdArray.push(td.eq(i).text());
	
		     });			
	   
   	    var customerId = td.eq(0).text();
	    var customerName = td.eq(1).text();
	    var customerCall = td.eq(2).text();
	    var zipCode = td.eq(3).text();
	    var customerAddress = td.eq(4).text();
	    var customerAddress2 = td.eq(5).text();
	  

	
		window.opener.document.getElementById("customerId").value =  customerId
		window.opener.document.getElementById("customerName").value = customerName;
		window.opener.document.getElementById("customerCall").value = customerCall;
		window.opener.document.getElementById("zipCode").value = zipCode;
		window.opener.document.getElementById("customerAddress").value = customerAddress;
		window.opener.document.getElementById("customerAddress2").value = customerAddress2;
		
		

		
		 
		 
		    
	});
	
	
	
</script>  
  	
</body>
</html>