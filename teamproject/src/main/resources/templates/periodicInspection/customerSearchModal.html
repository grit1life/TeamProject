<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

				   <!-- 고객 검색 모달 버튼 시작-->
				   <form th:action="@{/CustomerSearchList}" method="post">	
	               <div class="form-group">  
						<button type="button" class="btn btn-success" data-toggle="modal" data-target="#myLargeModal">
							<i class="fas fa-search">고객 검색</i>   
						</button>										
				   </div>
				   <!-- 고객 검색 모달 버튼 끝-->
				   
				   
				   
				   
				   <!-- 고객 검색 모달 영역 시작-->						
					<div class="modal fade" id="myLargeModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
						<div class="modal-dialog modal-xl" role="document">
							<div class="modal-content">
								<div class="modal-header">								
									<h4 class="modal-title" id="myModalLabel">고객 검색</h4>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
								</div>
	
								<!--고객 서치폼 시작  -->
								<div class="modal-body">
								   <div class="row">					
										          <div class="card-body">
											            <div class="row">
												            <div class="form-group" style="padding-bottom: 15px;">													            													            													             

											                    <div style="display: inline-block;">
											                      <input class="person" type="radio" name="r1" id="radioPrimary1" value="a">
											                      <label for="radioPrimary1">
											                       	개인
											                      </label>
											                    </div>

											                    

											                    <div style="display: inline-block;">
											                      <input class="company" type="radio" name="r1" id="radioPrimary2">
											                     <label for="radioPrimary2">
											                    	개인사업/ 법인
											                      </label>
											                       &ensp;
											                       &ensp;
											                    </div>   

												            	
												            	<div style="display: inline-block;">
															    	<label id="id">고객 아이디</label>
																		<input type="text" class="form-control" name="customerId" placeholder="고객 아이디" style="width: 150px;">	
															    </div> 
															    														
															    <div style="display: inline-block;">
															    	<label id="name">고객명</label>
																		<input type="text" class="form-control" name="customerName" placeholder="고객명" style="width: 150px;">	
															    </div> 
																																
															    
															    <div style="display: inline-block;">
															     	<label id="class">등급</label>					     					     		
																		<input type="text" class="form-control" name="customerClass" placeholder="등급" style="width: 150px;">
															    </div> 
															    
															    <div style="display: inline-block;">
																	<label id="call">전화번호</label>
																	<input type="text" class="form-control" name="customerCall" placeholder="전화번호" style="width: 150px;">
															    </div> 
     	          															
     	          															
															    <div style="display: inline-block;">
															    <div id="customerBtn" style="display: inline-block; margin-left:10px; margin-top: -10px">
															    	<button type="submit" id="customerSearchBtn" class="btn btn-info">
															           		검색
															        </button>
															    </div>
															    </div>
															    
															    
															    
															    <div style="display: inline-block;">
															    <div  id="companyBtn" style="display: inline-block; margin-left:10px; margin-top: -10px; display: none;">
															    	<button type="submit" id="customerCompanySearchBtn" class="btn btn-info">
															           		검색
															        </button>
															    </div>		
															    </div>	       
															</div>
											              </div>             
														</div>
														
																					              
						             </div>
								    <!--고객 서치폼 끝  -->
								    
								    &ensp;
								    
								    <!-- 개인 고객 검색 리스트 시작 -->
								    <div class="row">			   
										 <div id="customerList" style="display: none;">
										  	<table id="example2" class="table table-bordered table-hover">
										    	<thead>
									                <tr>
									                  <th>고객 아이디</th>
									                  <th>고객명</th>
									                  <th>권한</th>
									                  <th>등급</th>
									                  <th>전화번호</th>
									                  <th>이메일</th>
									                  <th>우편번호</th>
									                  <th>기본주소</th>
									                  <th>상세주소</th>                 
									                  <th>선택</th>
									                </tr>
										         </thead>
									             <tbody>
									              <tbody>
									              <tr th:each="l : ${CustomerList}">
													<td th:text="${l.customerId}"></td>
													<td th:text="${l.customerName}"></td>
													<td th:text="${l.customerLevel}"></td>
													<td th:text="${l.customerClass}"></td>
													<td th:text="${l.customerCall}"></td>
													<td th:text="${l.customerEmail}"></td>	
													<td th:text="${l.zipCode}"></td>
													<td th:text="${l.customerAddress}"></td>
													<td th:text="${l.customerAddress2}"></td>			
									                <td>
									                	<a id="customerListBtn" class="btn btn-sm btn-primary" style="vertical-align: middle; bottom: 0; margin-bottom: 18px; color:white;">
									                		<i class="fas fa-check"></i>            	
									                	</a>
									                </td>                          
									               
									              </tr>
									             </tbody>
											</table>
										  </div>
										  
										  <!-- 페이징 시작 -->
										  <div id="customerPage" style="margin-left: 600px; display: none;">
											<nav aria-label="Page navigation example">
												<ul class="pagination">
													 <li class="page-item">
														 <a class="page-link" aria-label="Previous">
															<span aria-hidden="true">«</span>
														  </a>
																	
													 </li>
																
													 <li class="page-item"><a class="page-link" th:href="@{/customer/cList?page=1}">1</a></li>
																
												     <li class="page-item"><a class="page-link" th:href="@{/customer/cList?page=2}">2</a></li>
																	
													 <li class="page-item"><a class="page-link" th:href="@{/customer/cList?page=2}" aria-label="Next"><span aria-hidden="true">»</span></a>
																    	    
													 </li>
												</ul>
											</nav>
										  </div>
										  <!-- 페이징 끝-->				
			            
									</div>
								   <!-- 개인 고객 리스트 끝  -->
								   <!-- 개인사업/법인 고객 검색 리스트 시작 -->
								    <div class="row">			   
										 <div id="customerCompanyList" style="display: none;">
										  	<table id="example3" class="table table-bordered table-hover">
										    	<thead>
									                <tr>
									                  <th>고객 아이디</th>
									                  <th>회사명</th>
									                  <th>권한</th>
									                  <th>등급</th>
									                  <th>전화번호</th>
									                  <th>이메일</th>
									                  <th>우편번호</th>
									                  <th>기본주소</th>
									                  <th>상세주소</th>                 
									                  <th>선택</th>
									                </tr>
										         </thead>
									             <tbody>
									              <tbody>
									              <tr th:each="l : ${CustomerCompanyList}">
													<td th:text="${l.customerId}"></td>
													<td th:text="${l.customerCompanyName}"></td>
													<td th:text="${l.customerLevel}"></td>
													<td th:text="${l.customerClass}"></td>
													<td th:text="${l.customerCompanyCall}"></td>
													<td th:text="${l.customerCompanyEmail}"></td>	
													<td th:text="${l.customerCompanyZipCode}"></td>
													<td th:text="${l.customerCompanyAddress}"></td>
													<td th:text="${l.customerCompanyAddress2}"></td>			
									                <td>
									                	<a id="customerListBtn" class="btn btn-sm btn-primary" style="vertical-align: middle; bottom: 0; margin-bottom: 18px; color:white;">
									                		<i class="fas fa-check"></i>            	
									                	</a>
									                </td>                          
									               
									              </tr>
									             </tbody>
											</table>
										  </div>
										  
										  <!-- 페이징 시작 -->
										  <div id="customerCompanyPage" style="margin-left: 600px; display: none;">
											<nav aria-label="Page navigation example">
												<ul class="pagination">
													 <li class="page-item">
														 <a class="page-link" aria-label="Previous">
															<span aria-hidden="true">«</span>
														  </a>
																	
													 </li>
																
													 <li class="page-item"><a class="page-link" th:href="@{/customer/cList?page=1}">1</a></li>
																
												     <li class="page-item"><a class="page-link" th:href="@{/customer/cList?page=2}">2</a></li>
																	
													 <li class="page-item"><a class="page-link" th:href="@{/customer/cList?page=2}" aria-label="Next"><span aria-hidden="true">»</span></a>
																    	    
													 </li>
												</ul>
											</nav>
										  </div>
										  <!-- 페이징 끝-->				
			            
									</div>
								   <!-- 개인사업자/ 법인고객 리스트 끝  -->
								   				 	
								</div>
							 							   												
								<div class="modal-footer">
									<button type="button" class="btn btn-primary" data-dismiss="modal">취소</button>
								</div>
							</div>
						</div>
					</div>
			        <!-- 고객 검색 모달 영역 끝-->            			
					</form> 
					
					<script>
						$('.person').click(function(){
							$('#id').text('고객 아이디');
							$('#id').next().attr('name','customerId');
							$('#name').text('고객명');
							$('#name').next().attr('name','customerName');
							$('#name').next().attr('placeholder','고객명');
							$('#level').text('권한');
							$('#level').next().attr('name','customerLevel');
							$('#class').text('등급');
							$('#class').next().attr('name','customerClass');
							$('#call').text('전화번호');
							$('#call').next().attr('name','customerCall');
						
							$('#customerList').css('display','none');		
							$('#customerCompanyList').css('display','none');
							$('#customerPage').css('display','none');
							$('#customerCompanyPage').css('display','none');
							
							$('#customerBtn').css('display','block');
							$('#companyBtn').css('display','none');
							
							var formObj = $("form[role='form']"); 
							
							$('#customerSearchBtn').click(function(){
								
								 formObj.attr("action","/CustomerSearchList"); 
								 formObj.attr("method","post");   
							     formObj.submit();
								
							});
							
							     
						    });
						
						
						
						$('.company').click(function(){
							$('#id').text('고객 아이디');
							$('#id').next().attr('name','customerId');
							$('#name').text('회사명');
							$('#name').next().attr('name','customerCompanyName');
							$('#name').next().attr('placeholder','회사명');
							$('#level').text('권한');
							$('#level').next().attr('name','customerLevel');
							$('#class').text('등급');
							$('#class').next().attr('name','customerClass');
							$('#call').text('전화번호');
							$('#call').next().attr('name','customerCompanyCall');
							
							$('#customerList').css('display','none');
							$('#customerCompanyList').css('display','none');
							$('#customerPage').css('display','none');
							$('#customerCompanyPage').css('display','none');
							
							
							$('#customerBtn').css('display','none');
							$('#companyBtn').css('display','block');
							
							
							var formObj = $("form[role='form']"); 
							
							$('#customerCompanySearchBtn').click(function(){
								
								 formObj.attr("action","/rInsert");   
							        formObj.submit();
								
							});
							     
						    });
						
							$('#customerSearchBtn').click(function(){
								$('#customerList').css('display','block');
								$('#customerPage').css('display','block');
								$('#customerCompanyList').css('display','none');
								$('#customerCompanyPage').css('display','none');
								
							});
						
									
							
							$('#contractSearchBtn').click(function(){
								$('#contractList').css('display','block');
								
							});
							
							
							
							
							$('#contractListBtn').click(function(){
								
								var contractCode1 = $('input[name=contractCode1]').val();
								var contractNo = $('input[name=contractNo]').val();		
								var goodsCode = $('input[name=goodsCode]').val();
								var goodsName = $('input[name=goodsName]').val();	
								var rentalFromDate = $('input[name=rentalFromDate]').val();
								var rentalToDate = $('input[name=rentalToDate]').val();
								
								   $('#1').val(contractCode1);
								   $('#2').val(contractNo);		 
								   $('#4').val(goodsCode);
								   $('#5').val(goodsName);
								   $('#7').val(rentalFromDate);		   
								   $('#8').val(rentalToDate);		 
								    
							});
							
							$('#contractListBtn2').click(function(){
								
								var contractCode1 = $('input[name=contractCode2]').val();
								var contractNo = $('input[name=contractNo1]').val();		
								var goodsCode = $('input[name=goodsCode1]').val();
								var goodsName = $('input[name=goodsName1]').val();
								var rentalFromDate = $('input[name=rentalFromDate1]').val();
								var rentalToDate = $('input[name=rentalToDate1]').val();
								
								   $('#1').val(contractCode1);
								   $('#2').val(contractNo);		 
								   $('#4').val(goodsCode);
								   $('#5').val(goodsName);
								   $('#7').val(rentalFromDate);		   
								   $('#8').val(rentalToDate);		 		 
								    
							});
							
							
							
						
							$('#customerListBtn').click(function(){	
								var customerListBtn = $(this);
								var tr = customerListBtn.parent().parent();
						        var td = tr.children();
								
								var customerId=td.eq(0).text();
								var customerName=td.eq(1).text();
								var customerCall=td.eq(4).text();
								var customerEmail=td.eq(5).text();
								var zipCode =td.eq(6).text();
								var customerAddress =td.eq(7).text();
								var customerAddress2=td.eq(8).text();
								
								
								   $('#3').val(customerId);
								   $('#a').val(customerName);
								   $('#b').val(customerCall);
								   $('#c').val(zipCode);
								   $('#d').val(customerAddress);
								   $('#e').val(customerAddress2);
								   $('#f').val(customerEmail);		   
								 
								    
							});
							
							
							
							$('#customerCompanyListBtn').click(function(){	
								var customerId = $('input[name=customerId]').val();
								var customerName = $('input[name=customerCompanyName]').val();
								var customerCall = $('input[name=customerCompanyCall]').val();
								var zipCode = $('input[name=customerCompanyzipCode]').val();
								var customerAddress = $('input[name=customerCompanyAddress]').val();
								var customerAddress2 = $('input[name=customerCompanyAddress2]').val();
								var customerEmail = $('input[name=customerCompanyEmail]').val();
								
								
								   $('#3').val(customerId);
								   $('#a').val(customerName);
								   $('#b').val(customerCall);
								   $('#c').val(zipCode);
								   $('#d').val(customerAddress);
								   $('#e').val(customerAddress2);
								   $('#f').val(customerEmail);		   
								 
								    
							});
							
							
						
						
						</script>                                          

</body>
</html>