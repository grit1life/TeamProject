<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/default}"
>
<th:block layout:fragment="customTitle">

</th:block>
<th:block layout:fragment="customTestScript">
<script type="text/javascript">
$(function(){
		
	
	$('.billBtn').click(function(){
			window.open("/asRepairBillForm?claimCode="+$(this).data('set'), "",
			"_blank width=800, height=900, toolbar=no, menubar=no, scrollbars=yes, resizable=no")
		})
}) 
</script>
</th:block> 

<th:block layout:fragment="customContents">
<body class="hold-transition sidebar-mini layout-fixed">
 <div class="content-wrapper">
  
    <section class="content-header"> 
       <div class="row mb-2">
         <div class="col-sm-6">
           <h1>A/S 수리비 청구서 조회</h1>
         </div>
         <div class="col-sm-6">
           <ol class="breadcrumb float-sm-right">
             <li class="breadcrumb-item"><a href="#">Home</a></li>
             <li class="breadcrumb-item active">Advanced Form</li>
           </ol>
         </div>
       </div>
     </section>
    
 
  <section class="content"> 
  	<div class="container-fluid">
  	    <!-- 검색 시작 -->
  		<div class="card card-default">
			 <div class="card-header">
			   <h3 class="card-title">청구서 검색</h3>
			
			   <div class="card-tools">
			     <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i></button>
			     <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-remove"></i></button>
			   </div>
			 </div>
			 <div class="card-body">
		         <div class="form-group" style="padding-bottom: 15px;">	
					    <div style="display: inline-block;">
					    	<label>고객명</label>
								<input type="text" class="form-control" name="customerName" placeholder="고객명" value="김철수">	
					    </div> 
	
					    
					    <div style="display: inline-block;">
					     	<label>상품명</label>					     					     		
								<input type="text" class="form-control" name="goodsName" placeholder="상품명">
					    </div>
					    
					    
					    <div style="display: inline-block;">
					     	<label>담당자</label>					     					     		
								<input type="text" class="form-control" name="staffName" placeholder="담당자명">
					    </div> 
					    
					    <div style="display: inline-block;">
							<label>청구일</label>
							<input type="date" class="form-control" name="fromDate">
					    </div> 
					    
					    ~
					    
					    <div style="display: inline-block;">
							<label></label>
							<input type="date" class="form-control" name="toDate">
					    </div> 
					<!-- sv  -->      	          
					    <div style="display: inline-block; margin-left:5px;">
					    	<button type="submit" class="btn btn-info">
					           		검색
					        </button>
					    </div>		           
					</div>
		            <!-- /.row -->
		      </div>
	    </div>
		<!-- 검색 끝 -->	 
	 <div class="card">
	  <div class="card-body">
	  	<table id="contractTable" class="table table-bordered table-hover"  style="margin-top: 22px;">
	    	<thead>
                <tr>
                  <th>청구코드</th>
                  <th>고객명</th>
                  <th>입금 여부</th>
                  <th>상품명(세트)</th>
                  <th>청구금액</th>
                  <th>담당자</th>
                  <th>청구날짜</th>
                  <th>청구서</th>
                  <th>삭제</th>
                </tr>
	         </thead>
             <tbody>
             <tr th:each="l:${RepairFeeBillingAndDepositList}">
                <td th:text="${l.claimCode}"></td>
                <td th:text="${l.customerName}"></td>
                <td th:text="${l.WhetherToDeposit}"></td>
                <td th:text="${l.goodsName}"></td>
                <td th:text="${l.repairCost}"></td>
                <td th:text="${l.staffName}"></td>
                <td th:text="${l.claimDate}"></td>                
             	<td>
	               	<a class="billBtn btn btn-success btn-sm" th:data-set="${l.claimCode}" href="#" style="padding:1px 4px 1px 4px">
	                    <svg class="bi bi-folder-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
						  <path fill-rule="evenodd" d="M9.828 3h3.982a2 2 0 011.992 2.181l-.637 7A2 2 0 0113.174 14H2.826a2 2 0 01-1.991-1.819l-.637-7a1.99 1.99 0 01.342-1.31L.5 3a2 2 0 012-2h3.672a2 2 0 011.414.586l.828.828A2 2 0 009.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 006.172 2H2.5a1 1 0 00-1 .981l.006.139z" clip-rule="evenodd"/>
						</svg>&ensp;청구서
					</a>
                </td>
               <td>
					<form action="/pDelete?checkCode=check_1" method="post">
						<button id="DeleteBtn" class="btn btn-danger btn-sm" onclick="if(!confirm('삭제된 내용은 다시 복구 할 수 없습니다. 정말로 삭제 하시겠습니까?')){return false;}">
							<i class="fas fa-trash">
                  		    </i>	
						 	  Delete	
						</button>
					
					</form>     	
				</td>
						
                
                
                
              </tr>
             </tbody>
		</table>
		<br>
		<!-- 페이징 -->
	   <nav aria-label="Page navigation example">
		  <ul class="pagination">
		    <li class="page-item">
			    <th:block th:if="${currentPage>1}">
			      <a class="page-link" th:href="@{/staff/billList(page=${currentPage-1})}" aria-label="Previous">
			        <span aria-hidden="true">&laquo;</span>
			      </a>
				</th:block>
				<th:block th:unless="${currentPage>1}">
			      <a class="page-link" aria-label="Previous">
			        <span aria-hidden="true">&laquo;</span>
			      </a>
				</th:block>
		    </li>
			<th:block th:each="num : ${#numbers.sequence(startPage, endPage)}">
		    	<li class="page-item"><a class="page-link" th:text="${num}" th:href="@{/staff/billList(page=${num})}"></a></li>
			</th:block>
		    <li class="page-item">
		    	<th:block th:if="${endPage>currentPage}">
			      <a class="page-link" th:href="@{/staff/billList(page=${currentPage+1})}" aria-label="Next">
			        <span aria-hidden="true">&raquo;</span>
			      </a>
			    </th:block>
			    <th:block th:unless="${endPage>currentPage}">
			      <a class="page-link" aria-label="Next">
			        <span aria-hidden="true">&raquo;</span>
			      </a>
			    </th:block>
		    </li>
		  </ul>
		</nav>
             <!-- 페이징 끝 -->

	  </div>
	 </div>   	    
	</div>
  </section>
</div>



</body>
</th:block>
</html>