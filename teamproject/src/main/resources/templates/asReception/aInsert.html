<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/default}"
>
<th:block layout:fragment="customTitle">
	<title>계약서 작성</title>
</th:block>


<body class="hold-transition sidebar-mini layout-fixed">
<th:block layout:fragment="customContents">
 <div class="content-wrapper">
    
   <section class="content-header"> 
      <div class="row mb-2">
        <div class="col-sm-6">
          <h1>A/S접수 등록</h1>
        </div>
        <div class="col-sm-6">
          <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item"><a href="#"></a></li>
            <li class="breadcrumb-item active">Advanced Form</li>
          </ol>
        </div>
      </div>
    </section>

<form th:action="@{/aInsert}" method="post">
  <section class="content">
  	<div class="container-fluid">
	 <div class="card">
	  <div class="card-body">
	  	<div class="row">
		  	<!-- left -->
		  	<div class="col-sm-5 invoice-col">
		  		<section class="content-header">  
					 <div class="container-fluid">   
					 	<div class="card card-default">
							 <!-- /.card-header -->
							 <div class="card-header">
							  	<h3 class="card-title">A/S 고객 정보 등록</h3>
									<div class="card-tools">
											    <div style="display: inline-block;">
											    	  <button type="button" id="contractHidden" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i></button>
											    </div>
											    <div style="display: inline-block;">
											    	<button type="button" class="btn btn-tool" data-card-widget="remove"></button>
											    </div>
								     </div>
							 </div>
							 <!-- /.card-header -->
							          
							          
							  <div class="card-body">
							  	<div style="float: left;">				  	
								  	<button type="button" id="customerCompanySearchList" class="btn btn-sm btn-primary" style="padding:3px; float:right; margin:0 20px 5px 0;">
									<i class="fas fa-search">기업고객 검색</i>   
								</button>	  
							  	<button type="button" id="customerSearchList" class="btn btn-sm btn-primary" style="padding:3px; float:right; margin:0 20px 5px 0;">
									<i class="fas fa-search">개인고객 검색</i> 				  
								</button>	
								</div>
			
								<label for="inputEmail3" class="col-sm-2 col-form-label"></label>				
					                  <div class="form-group row">
					                    <div class="col-sm-10">
					                      <input type="hidden" id="customerId" name="customerId" class="form-control" readonly="readonly" placeholder="ID">
					                    </div>
					                  </div>
					                  
					                  <label for="inputEmail3" class="col-sm-2 col-form-label">고객명</label>
					                  <div class="form-group row">
					                    <div class="col-sm-10">
					                      <input type="text" id="customerName" name="customerName" class="form-control" readonly="readonly" placeholder="고객을 검색해주세요.">
					                    </div>
					                  </div>
					                  
					                  <label for="inputEmail3" class="col-sm-2 col-form-label">연락처</label>
					                  <div class="form-group row">
					                    <div class="col-sm-10">
					                       <input type="text" id="customerCall" name="customerCall" class="form-control" readonly="readonly" placeholder="고객을 검색해주세요.">
					                    </div>
					                  </div>
					                  
					                  
					                   <label for="inputEmail3" class="col-sm-2 col-form-label">우편번호</label>
					                  <div class="form-group row">
					                    <div class="col-sm-10">
					                        <input type="text" id="zipCode" name="zipCode" class="form-control" readonly="readonly" placeholder="고객을 검색해주세요.">
					                    </div>
					                  </div>
					                  
					                  <label for="inputEmail3" class="col-sm-2 col-form-label">기본주소</label>
					                  <div class="form-group row">
					                    <div class="col-sm-10">
					                       <input type="text" id="customerAddress" name="customerAddress" class="form-control" readonly="readonly" placeholder="고객을 검색해주세요.">
					                    </div>
					                  </div>
					                  
					                  
					                  <label for="inputEmail3" class="col-sm-2 col-form-label">상세주소</label>
					                  <div class="form-group row">
					                    <div class="col-sm-10">
					                       <input type="text" id="customerAddress2" name="customerAddress2" class="form-control" readonly="readonly" placeholder="고객을 검색해주세요.">
					                    </div>
					                  </div>							            
							</div>
						</div>
					 </div>
				</section>
		  		
			</div>
			<!-- right -->
			
		  	<div class="col-sm-7 invoice-col">
		  		<section class="content-header"> 
		  		 <div class="container-fluid">   
					 	<div class="card card-default">
							 <!-- /.card-header -->
							 <div class="card-header">
							  	<h3 class="card-title">계약서 정보 등록</h3>
									<div class="card-tools">
											    <div style="display: inline-block;">
											    	  <button type="button" id="contractHidden" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i></button>
											    </div>
											    <div style="display: inline-block;">
											    	<button type="button" class="btn btn-tool" data-card-widget="remove"></button>
											    </div>
								     </div>
							 </div>
							 <!-- /.card-header -->
		  					<div class="card-body">
						  	<div style="float: left;">
							  	<button type="button"  id="contractSearchList" class="btn btn-sm btn-primary" style="padding:3px; float:right; margin:0 20px 5px 0;">
								<i class="fas fa-search">계약서 검색</i>   
								</button>	  				  					
							</div>
							
							<label for="inputEmail3" class="col-sm-2 col-form-label"></label>
				                  <div class="form-group row">
				                    <div class="col-sm-10">
				                      <input type="hidden" id="contractCode" name="contractCode" class="form-control" readonly="readonly" placeholder="계약서 코드">
				                    </div>
				                  </div>
				                  
				                  <label for="inputEmail3" class="col-sm-2 col-form-label">계약서 No</label>
				                  <div class="form-group row">
				                    <div class="col-sm-10">
				                      <input type="text" id="contractNo" name="contractNo" class="form-control" readonly="readonly" placeholder="계약서를 검색해주세요.">
				                    </div>
				                  </div>
				
				                   <label for="inputEmail3" class="col-sm-2 col-form-label">상품코드</label>
				                   <div class="form-group row">
				                    <div class="col-sm-10">
				                      <input type="text" id="goodsCode"  name="goodsCode" class="form-control" readonly="readonly" placeholder="계약서를 검색해주세요.">
				                    </div>
				                  </div>
				                  
				                   <label for="inputEmail3" class="col-sm-2 col-form-label">상품명</label>
				                  <div class="form-group row">
				                    <div class="col-sm-10">
				                      <input type="text" id="goodsName" name="goodsName" class="form-control" readonly="readonly" placeholder="계약서를 검색해주세요.">
				                    </div>
				                  </div>
				      
				                  <label for="inputEmail3" class="col-sm-2 col-form-label">렌탈 시작 일자</label>
				                  <div class="form-group row">
				                    <div class="col-sm-10">
				                       <input type="text" id="rentalFromDate" name="rentalFromDate" class="form-control" readonly="readonly" placeholder="계약서를 검색해주세요.">
				                    </div>
				                  </div>
				                  
				                  
				                  <label for="inputEmail3" class="col-sm-2 col-form-label">렌탈 종료 일자</label>
				                  <div class="form-group row">
				                    <div class="col-sm-10">
				                        <input type="text" id="rentalToDate" name="rentalToDate" class="form-control" readonly="readonly" placeholder="계약서를 검색해주세요.">
				                    </div>
				                  </div>
				  		</div>
				  	</div>
				  </div>
				  </section>
				  </div>		
	  				<!-- 작업 구분 시작 -->
	              <div class="col-sm-5 invoice-col">
	              	<section class="content-header"> 
	                <div class="form-group" style="height:70px;">
		                
		                 <label style="margin-bottom: 15px;">작업 구분</label><br>
		                  <div class="icheck-primary d-inline">
		                    <input class="exchange" type="radio" name="work" id="radioPrimary1" value="1">
		                    <label for="radioPrimary1">
		                    	교환
		                    </label>
		                  </div>
		                  <div class="icheck-primary d-inline">
		                    <input class="repair" type="radio" name="work" id="radioPrimary2" value="2">
		                    <label for="radioPrimary2">
		                    	수리
		                    </label>
		                  </div>
		            </div>
		            </section> 
	                </div>
	              </div>
            	  <!--작업 구분 끝  --> 
            	  	<div  style="border: 1px solid #D3D3D3; border-radius: 10px; te">
            	  	<section class="content-header"> 
				  		<label for="inputEmail3" class="col-sm-2 col-form-label">A/S 지점 코드</label>
		                   <div class="input-group mb-3" style="width: 300px;">
		                  	 <input type="text" class="form-control" id="branchCode" name="branchCode">              
			                    <button type="button" id="branchSearchList" class="btn btn-success" style="margin-left: 10px;">
										<i class="fas fa-search"></i>   
								</button>		           
                    	   </div>
                  

           		             		  
           		  
           		   <label for="inputEmail3" class="col-sm-2 col-form-label">A/S기사 아이디</label>
                  <div class="input-group mb-3" style="width: 300px;">
                  <input type="text" class="form-control" id="staffCode" name="staffId2">              
	                    <button type="button" class="btn btn-success" id="staffSearchList" style="margin-left: 10px;">
	                    	<i class="fas fa-search"></i> 
	                    </button>             
                 </div>
                 
                 <label for="inputEmail3" class="col-sm-2 col-form-label">방문예정일</label>
                  <div class="form-group row" style="width: 300px;">
	                  <div class="col-sm-10">	               		                   
	                   <input type="date" name="visitExpectedDate" class="form-control">
	                  </div>                  
           		  </div>    
                
                  <label for="inputEmail3" class="col-sm-2 col-form-label">접수일</label>
                  <div class="form-group row" style="width: 300px;">
	                  <div class="col-sm-10">	               		                   
	                   <input type="date" name="receptionDate" class="form-control">
	                  </div>                  
           		  </div>             		            		 
                  
                  <label for="inputEmail3" class="col-sm-2 col-form-label">접수자 아이디</label>
                  <div class="form-group row" style="width: 300px;">
                    <div class="col-sm-10">
                      <input type="text"  name="staffId" class="form-control">
                    </div>
                  </div>
                  
                 
                 
                 <label for="inputEmail3" id="name4" class="col-sm-2 col-form-label">교환 사유</label>
                  <div class="input-group mb-3" style="width: 650px;">
                  	<textarea name="requestReason" class="form-control" style="width: 200px; height:100px; resize:none;" >   
                  	</textarea>    
                  </div>

               <div class="form-group row" style="display: none;">
		          	<input class="exchange" type="radio" name="workingSituation" value="1" id="radioPrimary1" checked="checked">
		             	<label for="radioPrimary1">
		                    	작업 중
		            	</label>
		            <input class="exchange" type="radio" name="workingSituation" value="2" id="radioPrimary1">
		             	<label for="radioPrimary1">
		                       	작업 완료
		            	</label>	
		          </div>

	  			  <div class="card-footer">
	                  <button type="submit" id="submit" class="btn btn-info">등록</button>
	                   <a th:href="@{/index}" class="btn btn-default float-right">취소</a>                 
     			 </div>
     			    </section>
					</div>
            	  	
	  			  </div>
	  			  
            	  	
            	
		<!-- right end -->
	  </div>
	  
	
	
  	
  </div>
  </div>
 </section>
 </form>
     
  
  
</div>
<script>
	$('.exchange').click(function(){
		$('#name1').text('교환 대상 상품 코드');
		$('#name1').next().attr('name','goodsCode');
		$('#name2').text('교환 대상 상품 세트 No');
		$('#name2').next().attr('name','setNo');
		$('#name3').text('교환 대상 상품 세트 코드');
		$('#name3').next().attr('name','setCode');
		$('#name4').text('교환 사유');
		
	
		
	});
	
	
	
	$('.repair').click(function(){
		$('#name1').text('수리 대상 상품 코드');
		$('#name1').next().attr('name','goodsCode');
		$('#name2').text('수리 대상 상품 세트 No');
		$('#name2').next().attr('name','setNo');
		$('#name3').text('수리 대상 상품 세트 코드');
		$('#name4').text('메모');
		

		
	});
	
	
	
	
	
	 $('#customerSearchList').click(function(event){  //버튼을 클릭 했을시 popupOpen 함수 출력 
	     console.log('click');
	     popupOpen();	//Popup Open 함수
	     
	     function popupOpen(){
	 		var url= "/customerSearchModal";    //팝업창 페이지 URL
	 		var winWidth = 977;
	 	    var winHeight = 510;
	 	    var popupOption= "width="+winWidth+", height="+winHeight;    //팝업창 옵션(optoin)
	 		window.open(url,"",popupOption);
	 	}

	 });

		
	 
	  $('#customerCompanySearchList').click(function(event){ 
		  console.log('click');
		  popupOpen();	
		  
		  function popupOpen(){
				var url= "/customerCompanySearchModal";    
				var winWidth = 977;
		 	    var winHeight = 510;
			    var popupOption= "width="+winWidth+", height="+winHeight;    
				window.open(url,"",popupOption);
			}
			
		
		
	  
	  });
	  
	  
	  
	  $('#contractSearchList').click(function(event){ 
		  console.log('click');
		  popupOpen();	
		  
		  function popupOpen(){
				var url= "/contractSearchModal";    
				var winWidth = 965;
			    var winHeight = 600;
			    var popupOption= "width="+winWidth+", height="+winHeight;    
				window.open(url,"",popupOption);
			}
			
		
		
	  
	  });
	 
	  $('#branchSearchList').click(function(event){ 
		  console.log('click');
		  popupOpen();	
		  
		  function popupOpen(){
				var url= "/branchSearchModal";    
				var winWidth = 952;
			    var winHeight = 599;
			    var popupOption= "width="+winWidth+", height="+winHeight;    
				window.open(url,"",popupOption);
			}
			
		
		
	  
	  });
	  
	  
	  $('#staffSearchList').click(function(event){ 
		  console.log('click');
		  popupOpen();	
		  
		  function popupOpen(){
				var url= "/staffSearchModal";    
				var winWidth = 952;
			    var winHeight = 599;
			    var popupOption= "width="+winWidth+", height="+winHeight;    
				window.open(url,"",popupOption);
			}
			
		
		
	  
	  });
	  	
	  /*유효성 검사 시작  */
		
		$('#submit').click(function(){
		
			var customerId = $('input[name=customerId]').val();
			var customerName = $('input[name=customerName]').val();
			var customerCall = $('input[name=customerCall]').val();
			var zipCode = $('input[name=zipCode]').val();
			var customerAddress = $('input[name=customerAddress]').val();
			var customerAddress2 = $('input[name=customerAddress2]').val();
			var contractCode = $('input[name=contractCode]').val();
			var contractNo = $('input[name=contractNo]').val();
			var goodsCode = $('input[name=goodsCode]').val();
			var goodsName = $('input[name=goodsName]').val();
			var rentalFromDate = $('input[name=rentalFromDate]').val();
			var rentalToDate = $('input[name=rentalToDate]').val();
			var branchCode = $('input[name=branchCode]').val();
			var staffId2 = $('input[name=staffId2]').val();
			var requestReason = $('input[name=requestReason]').val();
			var visitExpectedDate = $('input[name=visitExpectedDate]').val();
			var receptionDate = $('input[name=receptionDate]').val();
			var staffId = $('input[name=staffId]').val();
			
			
			if($(':radio[name=work]:checked').length < 1){
				alert('작업구분을 선택해주세요.');
				return false;
			}else if(customerId == ''){
				alert('고객 아이디를 입력해주세요.');
				return false;
			}else if(customerName == ''){
				alert('고객명을 입력해주세요.');
				return false;
			}else if(customerCall == ''){
				alert('고객 연락처를 입력해주세요.');
				return false;
			}else if(zipCode == ''){
				alert('우편번호를 입력해주세요.');
				return false;
			}else if(customerAddress == ''){
				alert('기본주소를 입력해주세요.');
				return false;
			}else if(customerAddress2 == ''){
				alert('상세주소를 입력해주세요.');
				return false;
			}else if(contractCode == ''){
				alert('계약서 코드를 입력해주세요.');
				return false;
			}else if(contractNo == ''){
				alert('계약서 No를 입력해주세요.');
				return false;
			}else if(goodsCode == ''){
				alert('상품코드를 입력해주세요.');
				return false;
			}else if(goodsName == ''){
				alert('상품명을 입력해주세요.');
				return false;
			}else if(rentalFromDate == ''){
				alert('렌탈 시작일을 입력해주세요.');
				return false;
			}else if(rentalToDate == ''){
				alert('렌탈 종료일을 입력해주세요.');
				return false;
			}else if(branchCode == ''){
				alert('A/S지점 코드를 입력해주세요.');
				return false;
			}else if(staffId2 == ''){
				alert('A/S 출동 기사 아이디를 입력해주세요.');
				return false;
			}else if(requestReason == ''){
				alert('교환사유 혹은 메모를 입력해주세요.');
				return false;
			}else if(visitExpectedDate == ''){
				alert('방문예정일을 입력해주세요');
				return false;
			}else if(receptionDate == ''){
				alert('접수일을 입력해주세요.');
				return false;
			}else if(staffId == ''){
				alert('접수자 아이디를 입력해주세요.');
				return false;
			}
			
		     
			
			alert("접수가 완료되었습니다.");
		  
			
			
		});


</script>  


</th:block>
</body>
</html>